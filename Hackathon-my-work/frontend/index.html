<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ACKO: AI Voice Health Assistant</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- Emotion Alert Container - Outside chat for doctor notifications -->
        <div class="emotion-alerts-container" id="emotionAlerts"></div>
        
        <header>
            <h1>🩺 ACKO: MER AI Assistant</h1>
            <p>Tell me about your health concerns</p>
            
            <div class="language-buttons">
                <button class="lang-btn active" data-lang="en-US" onclick="window.voiceAssistant?.setLanguage('en-US')">
                    🇺🇸 English
                </button>
                <button class="lang-btn" data-lang="hi-IN" onclick="window.voiceAssistant?.setLanguage('hi-IN')">
                    🇮🇳 हिन्दी
                </button>
            </div>
        </header>

        <div class="chat-container">
            <div class="messages" id="messages">
                <div class="message bot-message">
                    <div class="message-content">
                        <strong>AI:</strong> Hello! I'm your ACKO AI health assistant. How can I help you today?
                    </div>
                </div>
            </div>
        </div>


        <div class="controls">
        <button id="recordBtn" class="record-btn">
          <span class="btn-content">
            <span class="btn-icon">🎤</span>
            <span class="btn-text">Start Recording</span>
          </span>
          <lottie-player
            id="audioWave"
            src="assets/Audio.json"
            background="transparent"
            speed="1"
            style="height: 40px; display: none"
            loop
            autoplay
          >
          </lottie-player>
        </button>
            <button id="stopBtn" class="stop-btn" disabled>
                <span class="btn-icon">⏹️</span>
                <span class="btn-text">Stop Recording</span>
            </button>
            <button id="summaryBtn" class="summary-btn non-clickable" onclick="window.voiceAssistant?.generateConversationSummary()">
                <span class="btn-icon">📋</span>
                <span class="btn-text">View Summary</span>
            </button>
        </div>
        
        <div class="conversation-info">
            <div id="conversationStats" class="conversation-stats">💬 Exchanges: 0</div>
            <div id="sessionInfo" class="session-info">📝 Session: Active</div>
        </div>

        <div class="status" id="status">
            Ready to listen... Click "Start Recording" and allow microphone access when prompted.
        </div>

        <div class="disclaimer">
            <small>⚠️ This is for informational purposes only and not a substitute for professional medical advice.</small>
            <br><small>💡 <strong>Tip:</strong> Use Chrome or Edge for best speech recognition results. Speak clearly and close to your microphone.</small>
        </div>
    </div>
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>

    <script src="app_webspeech.js"></script>
</body>
</html>